<!DOCTYPE html>
<html>
<head>
    <title>NIPSTimeMachine</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <img src="{{ url_for('static', filename='logo_classic.png') }}" class="logo_image" />
        {% if error %}
            <h4 class="error" align="center">{{ error }}</h4>
        {% else %}
            <h4 align="center">Everything you want to know and most likely even more</h4>
        {% endif %}
        <form action="/authors" method="GET">
            <input type="text" name="q" size="60" class="query_input" value="{{ query }}" />
            <input type="submit" name="" value="I'm feeling lucky" />
        </form>

        {% if not error %}
            <div class="search_container">
                <h4>Paper count by year for {{ query }}:</h4>
                <table>
                    {% for year_with_count in papers_by_year %}
                        <tr>
                            <td><strong class="name">{{ year_with_count.year }}</strong></td>
                            <td><span>{{ year_with_count.count }}</span></td>
                        </tr>
                    {% endfor %}
                </table>
            </div>

            <div class="search_container">
                <h4>Common co-authors for {{ query }}:</h4>
                {% for coauthor in coauthors %}
                    <strong class="name">{{ coauthor.name }}:</strong> <span>{{ coauthor.count }},</span>
                {% endfor %}
            </div>

            <div class="search_container">
                <h4>{{ query }} papers:</h4>
                {% for paper in papers %}
                    <div class="search_result">
                        <h5><span class="year">{{ paper.year }}</span> {{ paper.title }}</h5>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    </div>
</body>
</html>
